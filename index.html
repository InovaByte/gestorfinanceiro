<html><head><base href="." /><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>FinanceTracker - Controle suas Finanças</title><script src="https://cdn.jsdelivr.net/npm/chart.js"></script><script src="https://www.gstatic.com/firebasejs/10.5.0/firebase-app-compat.js"></script><script src="https://www.gstatic.com/firebasejs/10.5.0/firebase-firestore-compat.js"></script><script src="https://www.gstatic.com/firebasejs/10.5.0/firebase-auth-compat.js"></script><script src="https://www.gstatic.com/firebasejs/10.5.0/firebase-analytics-compat.js"></script><style>:root {  --primary: #2ecc71;  --secondary: #3498db;  --danger: #e74c3c;  --dark: #2c3e50;  --light: #ecf0f1;}* {  margin: 0;  padding: 0;  box-sizing: border-box;  font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;  -webkit-tap-highlight-color: transparent;}body {  background: var(--light);  touch-action: manipulation;} .container {  width: 100%;  padding: 10px;  margin: 0 auto;}nav {  background: var(--dark);  color: white;  padding: 0.8rem;  position: fixed;  top: 0;  width: 100%;  z-index: 1000;} .header {  display: flex;  justify-content: space-between;  align-items: center;} .logo {  font-size: 1.2rem;  font-weight: bold;} .main-content {  display: flex;  flex-direction: column;  gap: 15px;  margin-top: 60px;  padding-bottom: 70px;} .card {  background: white;  border-radius: 15px;  padding: 15px;  box-shadow: 0 2px 8px rgba(0,0,0,0.1);  margin: 0 5px;} .form-group {  margin-bottom: 12px;} label {  display: block;  margin-bottom: 4px;  color: var(--dark);  font-size: 0.9rem;} input, select {  width: 100%;  padding: 12px;  border: 1px solid #ddd;  border-radius: 8px;  font-size: 16px;  -webkit-appearance: none;} button {  background: var(--primary);  color: white;  border: none;  padding: 12px 20px;  border-radius: 8px;  cursor: pointer;  transition: opacity 0.3s;  width: 100%;  font-size: 16px;} button:active {  transform: scale(0.98);} .chart-container {  height: 250px;  margin: 10px 0;} .transactions {  margin-top: 10px;} .transaction-item {  display: flex;  justify-content: space-between;  padding: 12px;  border-bottom: 1px solid #eee;  font-size: 0.9rem;} .expense {  color: var(--danger);} .income {  color: var(--primary);} h2 {  font-size: 1.1rem;  margin-bottom: 15px;} /* Bottom Navigation */ .bottom-nav {  position: fixed;  bottom: 0;  width: 100%;  background: white;  display: flex;  justify-content: space-around;  padding: 10px;  box-shadow: 0 -2px 10px rgba(0,0,0,0.1);} .nav-item {  display: flex;  flex-direction: column;  align-items: center;  font-size: 0.8rem;  color: var(--dark);  text-decoration: none;  padding: 5px;} .nav-item svg {  width: 24px;  height: 24px;  margin-bottom: 4px;} .tip-alert {  position: fixed;  bottom: 70px !important;  left: 10px !important;  right: 10px !important;  background: var(--secondary);  color: white;  padding: 12px;  border-radius: 8px;  box-shadow: 0 2px 5px rgba(0,0,0,0.2);  font-size: 0.9rem;  animation: slideUp 0.5s ease-out;  z-index: 1000;} @keyframes slideUp {  from { transform: translateY(100%); }  to { transform: translateY(0); }} @keyframes slideDown {  from { transform: translateY(0); }  to { transform: translateY(100%); }} @media (max-width: 360px) {  .container {    padding: 5px;  }    .card {    padding: 12px;  }    h2 {    font-size: 1rem;  }    .transaction-item {    font-size: 0.8rem;  }} /* New Styles for Pages */ .page {  display: none;  margin-top: 60px;  padding-bottom: 70px;} .page.active {  display: block;} .tips-list {  display: flex;  flex-direction: column;  gap: 10px;} .tip-card {  background: white;  padding: 15px;  border-radius: 8px;  box-shadow: 0 2px 5px rgba(0,0,0,0.1);} .report-card {  background: white;  padding: 15px;  border-radius: 8px;  margin-bottom: 15px;  box-shadow: 0 2px 5px rgba(0,0,0,0.1);} .report-title {  font-weight: bold;  margin-bottom: 10px;  color: var(--dark);} .report-value {  font-size: 1.2rem;  color: var(--primary);} .nav-item.active {  color: var(--primary);} </style></head><body><nav><div class="container"><div class="header"><div class="logo">FinanceTracker</div><div class="balance">Saldo: R$ <span id="total-balance">0.00</span></div></div></div></nav><div id="auth-container" class="page"><div class="card"><h2>Login</h2><form id="auth-form"><div class="form-group"><label>Email</label><input type="email" id="email" required></div><div class="form-group"><label>Senha</label><input type="password" id="password" required></div><button type="submit">Login</button><button type="button" id="register-btn" style="margin-top: 10px; background: var(--secondary);">Registrar</button></form></div></div><div class="container"><!-- Home Page --><div id="home" class="page active"><div class="card"><h2>Nova Transação</h2><form id="transaction-form"><div class="form-group"><label>Tipo</label><select id="type"><option value="expense">Despesa</option><option value="income">Receita</option></select></div><div class="form-group"><label>Descrição</label><input type="text" id="description" required></div><div class="form-group"><label>Valor (R$)</label><input type="number" inputmode="decimal" id="amount" step="0.01" required></div><div class="form-group"><label>Categoria</label><select id="category"><option value="alimentacao">Alimentação</option><option value="transporte">Transporte</option><option value="lazer">Lazer</option><option value="saude">Saúde</option><option value="outros">Outros</option></select></div><button type="submit">Adicionar</button></form></div><div class="card"><h2>Gastos por Categoria</h2><div class="chart-container"><canvas id="expenses-chart"></canvas></div></div><div class="card transactions"><h2>Últimas Transações</h2><div id="transactions-list"></div></div></div><!-- Tips Page --><div id="tips" class="page"><div class="tips-list"></div></div><!-- Reports Page --><div id="reports" class="page"><div class="report-card"><div class="report-title">Total de Receitas (Mês Atual)</div><div class="report-value" style="color: var(--primary);">R$ <span id="monthly-income">0.00</span></div></div><div class="report-card"><div class="report-title">Total de Despesas (Mês Atual)</div><div class="report-value" style="color: var(--danger);">R$ <span id="monthly-expenses">0.00</span></div></div><div class="report-card"><div class="report-title">Economia do Mês</div><div class="report-value" style="color: var(--primary);">R$ <span id="monthly-savings">0.00</span></div></div><div class="report-card"><div class="report-title">Percentual de Economia</div><div class="report-value" style="color: var(--secondary);">0%</div></div></div></div><div class="bottom-nav"><a href="#" class="nav-item active" data-page="home"><svg viewBox="0 0 24 24" fill="currentColor"><path d="M12 2L2 12h3v8h6v-6h2v6h6v-8h3L12 2z"/></svg>Home</a><a href="#" class="nav-item" data-page="reports"><svg viewBox="0 0 24 24" fill="currentColor"><path d="M19 3H5c-1 0-2 1-2 2v14c0 1 1 2 2 2h14c1 0 2-1 2-2V5c0-1-1-2-2-2zm-7 14h-2v-2h2v2zm0-4h-2V7h2v6z"/></svg>Relatórios</a><a href="#" class="nav-item" data-page="tips"><svg viewBox="0 0 24 24" fill="currentColor"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z"/></svg>Dicas</a></div><script>const firebaseConfig = {apiKey: "AIzaSyAj24S5ao9HlwnM4RqLWZSz4t1f-mHqKL4",authDomain: "financetracker-cb397.firebaseapp.com",projectId: "financetracker-cb397",storageBucket: "financetracker-cb397.firebasestorage.app",messagingSenderId: "639971991392",appId: "1:639971991392:web:23f2c88fc3616e7a4ac805",measurementId: "G-K8PKKBE3VD"};firebase.initializeApp(firebaseConfig);const db = firebase.firestore();const auth = firebase.auth();const analytics = firebase.analytics();const expensesChart = new Chart(document.getElementById('expenses-chart'), {  type: 'pie',  data: {    labels: ['Alimentação', 'Transporte', 'Lazer', 'Saúde', 'Outros'],    datasets: [{      data: [0, 0, 0, 0, 0],      backgroundColor: [        '#e74c3c',        '#3498db',        '#2ecc71',        '#f1c40f',        '#95a5a6'      ]    }]  },  options: {    responsive: true,    maintainAspectRatio: false,    plugins: {      legend: {        position: 'bottom',        labels: {          padding: 20,          font: {            size: 12          }        }      }    }  } });let transactions = [];let currentUser = null;auth.onAuthStateChanged((user) => {currentUser = user;if (user) {loadTransactions();} else {loadFromLocalStorage();updateDashboard();}});function saveToLocalStorage() {  localStorage.setItem('transactions', JSON.stringify(transactions));}function loadFromLocalStorage() {  const savedTransactions = localStorage.getItem('transactions');  if (savedTransactions) {    transactions = JSON.parse(savedTransactions);    updateDashboard();  }};async function saveTransaction(transaction) {  if (currentUser) {    try {      await db.collection('users').doc(currentUser.uid).collection('transactions').add({...transaction,timestamp: firebase.firestore.FieldValue.serverTimestamp()});    } catch (error) {      console.error("Error saving transaction:", error);    }  }  transactions.push(transaction);  saveToLocalStorage();};async function loadTransactions() {  if (!currentUser) return;  try {    const snapshot = await db.collection('users').doc(currentUser.uid).collection('transactions').orderBy('timestamp', 'desc').get();    transactions = snapshot.docs.map(doc => ({id: doc.id,...doc.data()}));    saveToLocalStorage();    updateDashboard();  } catch (error) {    console.error("Error loading transactions:", error);    loadFromLocalStorage();  }}document.getElementById('transaction-form').addEventListener('submit', async function(e) {e.preventDefault();const transaction = {type: document.getElementById('type').value,description: document.getElementById('description').value,amount: parseFloat(document.getElementById('amount').value),category: document.getElementById('category').value,date: new Date()};await saveTransaction(transaction);updateDashboard();this.reset();});const authForm = document.getElementById('auth-form');const authContainer = document.getElementById('auth-container');const mainContent = document.getElementById('home');authForm.addEventListener('submit', async (e) => {e.preventDefault();const email = document.getElementById('email').value;const password = document.getElementById('password').value;try {await auth.signInWithEmailAndPassword(email, password);authContainer.style.display = 'none';mainContent.style.display = 'block';} catch (error) {alert(error.message);}});document.getElementById('register-btn').addEventListener('click', async () => {const email = document.getElementById('email').value;const password = document.getElementById('password').value;try {await auth.createUserWithEmailAndPassword(email, password);authContainer.style.display = 'none';mainContent.style.display = 'block';} catch (error) {alert(error.message);}});function updateDashboard() {const balance = transactions.reduce((acc, curr) => {return curr.type === 'income' ? acc + curr.amount : acc - curr.amount;}, 0);document.getElementById('total-balance').textContent = balance.toFixed(2);const categoryTotals = {alimentacao: 0,transporte: 0,lazer: 0,saude: 0,outros: 0};transactions.forEach(transaction => {if (transaction.type === 'expense') {categoryTotals[transaction.category] += transaction.amount;}});expensesChart.data.datasets[0].data = Object.values(categoryTotals);expensesChart.update();const transactionsList = document.getElementById('transactions-list');transactionsList.innerHTML = '';transactions.slice(-5).reverse().forEach(transaction => {const item = document.createElement('div');item.className = `transaction-item ${transaction.type}`;item.innerHTML = `            <span>${transaction.description}</span>            <span>R$ ${transaction.amount.toFixed(2)}</span>        `;transactionsList.appendChild(item);});} const tips = [    {        title: "Regra 50/30/20",        content: "Destine 50% para necessidades básicas, 30% para desejos e 20% para economia e investimentos."    },    {        title: "Fundo de Emergência",        content: "Mantenha um fundo de emergência equivalente a 6 meses de despesas mensais."    },    {        title: "Investimentos",        content: "Comece a investir cedo, mesmo que com pequenas quantias. O tempo é seu aliado."    },    {        title: "Controle de Gastos",        content: "Anote todos os gastos diariamente para ter mais consciência dos seus hábitos financeiros."    },    {        title: "Planejamento",        content: "Estabeleça metas financeiras claras e realistas para curto, médio e longo prazo."    }];function updateTipsPage() {const tipsContainer = document.querySelector('.tips-list');tipsContainer.innerHTML = '';tips.forEach(tip => {const tipCard = document.createElement('div');tipCard.className = 'tip-card';tipCard.innerHTML = `            <h3 style="color: var(--dark); margin-bottom: 8px;">${tip.title}</h3>            <p style="color: #666;">${tip.content}</p>        `;tipsContainer.appendChild(tipCard);});}updateTipsPage();function updateReports() {const currentDate = new Date();const currentMonth = currentDate.getMonth();const currentYear = currentDate.getFullYear();const monthlyTransactions = transactions.filter(t => {const transactionDate = new Date(t.date);return transactionDate.getMonth() === currentMonth &&            transactionDate.getFullYear() === currentYear;});const monthlyExpenses = monthlyTransactions        .filter(t => t.type === 'expense')        .reduce((sum, t) => sum + t.amount, 0);const monthlyIncome = monthlyTransactions        .filter(t => t.type === 'income')        .reduce((sum, t) => sum + t.amount, 0);const monthlySavings = monthlyIncome - monthlyExpenses;const reportsContainer = document.getElementById('reports');reportsContainer.innerHTML = `        <div class="report-card">            <div class="report-title">Total de Receitas (Mês Atual)</div>            <div class="report-value" style="color: var(--primary);">                R$ ${monthlyIncome.toFixed(2)}            </div>        </div>        <div class="report-card">            <div class="report-title">Total de Despesas (Mês Atual)</div>            <div class="report-value" style="color: var(--danger);">                R$ ${monthlyExpenses.toFixed(2)}            </div>        </div>        <div class="report-card">            <div class="report-title">Economia do Mês</div>            <div class="report-value" style="color: var(--primary);">                R$ ${monthlySavings.toFixed(2)}            </div>        </div>        <div class="report-card">            <div class="report-title">Percentual de Economia</div>            <div class="report-value" style="color: var(--secondary);">                ${monthlyIncome > 0 ? ((monthlySavings / monthlyIncome) * 100).toFixed(1) : 0}%            </div>        </div>    `;} document.querySelectorAll('.nav-item').forEach(item => {    item.addEventListener('click', (e) => {        e.preventDefault();        const pageId = item.getAttribute('data-page');        document.querySelectorAll('.page').forEach(page => {            page.classList.remove('active');        });        document.getElementById(pageId).classList.add('active');        document.querySelectorAll('.nav-item').forEach(navItem => {            navItem.classList.remove('active');        });        item.classList.add('active');        if (pageId === 'reports') {            updateReports();        }    });});</script></body></html>
